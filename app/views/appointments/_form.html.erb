<!-- make an appointment page -->

<%= form_for([@appointment.pet, @appointment], html: { class: "form-horizontal", role: "form" }) do |f| %>
  <% if @appointment.errors.any? %>
  <div class="alert alert-danger alert-dismissable" role="alert">
    <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
    <h4><%= pluralize(@appointment.errors.count, "error") %> prohibited this appointment from being saved:</h4>

    <ul>
      <% @appointment.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
  <% end %>

  <div class="form-group">
    <%= f.label :date %>
    <div>
      <%= f.text_field :date, 'data-behaviour' => 'datepicker', :id => 'app_calendar', :required => true %>
      <script type="text/javascript">
      $(document).ready(function(){
        $('[data-behaviour~=datepicker]').datepicker({ dateFormat: 'MM-DD-YYYY' });
        $.datepicker.setDefaults({
          dateFormat: 'MM-DD-YYYY'
        });
      });
      </script>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :pet %>
    <div>
      <%= @appointment.pet.name %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :user %>
    <div>
      <%= @appointment.user.email %>
    </div>
  </div>
  <div class="form-group">
    <div>
      <%= f.submit class: "btn btn-primary" %>
    </div>
  </div>
  <% end %>
